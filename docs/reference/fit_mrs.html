<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Perform a fit based analysis of MRS data. — fit_mrs • Spectroscopy Analysis Tools (spant)</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Perform a fit based analysis of MRS data. — fit_mrs" />

<meta property="og:description" content="Note that TARQUIN and LCModel require these packages to be installed, and
the functions set_tqn_path and set_lcm_path (respectively) need to be used
to specify the location of these software packages." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spant</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.10.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/spant-intro.html">Introduction to spant</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform a fit based analysis of MRS data.</h1>
    
    <div class="hidden name"><code>fit_mrs.Rd</code></div>
    </div>

    
    <p>Note that TARQUIN and LCModel require these packages to be installed, and
the functions set_tqn_path and set_lcm_path (respectively) need to be used
to specify the location of these software packages.</p>
    

    <pre class="usage"><span class='fu'>fit_mrs</span>(<span class='no'>metab</span>, <span class='kw'>basis</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"VARPRO_3P"</span>, <span class='kw'>w_ref</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>opts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>4</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>metab</th>
      <td><p>Metabolite data.</p></td>
    </tr>
    <tr>
      <th>basis</th>
      <td><p>A basis class object or character vector to basis file in
LCModel .basis format.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>'VARPRO', 'VARPRO_3P', 'TARQUIN' or 'LCMODEL'</p></td>
    </tr>
    <tr>
      <th>w_ref</th>
      <td><p>Water reference data for concentration scaling (optional).</p></td>
    </tr>
    <tr>
      <th>opts</th>
      <td><p>Options to pass to the analysis method.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Perform analysis in parallel (TRUE or FALSE)</p></td>
    </tr>
    <tr>
      <th>cores</th>
      <td><p>Number of cores to use for parallel analysis.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>MRS analysis object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Fitting approaches described in the following references:
VARPRO
van der Veen JW, de Beer R, Luyten PR, van Ormondt D. Accurate quantification
of in vivo 31P NMR signals using the variable projection method and prior
knowledge. Magn Reson Med 1988;6:92-98</p>
<p>TARQUIN
Wilson, M., Reynolds, G., Kauppinen, R. A., Arvanitis, T. N. &amp; Peet, A. C.
A constrained least-squares approach to the automated quantitation of in vivo
1H magnetic resonance spectroscopy data. Magn Reson Med 2011;65:1-12.</p>
<p>LCModel
Provencher SW. Estimation of metabolite concentrations from localized in vivo
proton NMR spectra. Magn Reson Med 1993;30:672-679.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>fname</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,<span class='st'>"philips_spar_sdat_WS.SDAT"</span>,<span class='kw'>package</span><span class='kw'>=</span><span class='st'>"spant"</span>)
<span class='no'>svs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_mrs.html'>read_mrs</a></span>(<span class='no'>fname</span>, <span class='kw'>format</span><span class='kw'>=</span><span class='st'>"spar_sdat"</span>)</div><span class='co'># NOT RUN {</span>
<span class='no'>basis</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sim_basis_1h_brain_press.html'>sim_basis_1h_brain_press</a></span>(<span class='no'>svs</span>)
<span class='no'>fit_result</span> <span class='kw'>&lt;-</span> <span class='fu'>fit_mrs</span>(<span class='no'>svs</span>, <span class='no'>basis</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Martin Wilson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

